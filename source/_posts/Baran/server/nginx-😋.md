---
title: "nginx \U0001F60B"
tags:
  - nginx
categories:
  - server
cover: 'https://i.loli.net/2021/02/22/xE8S7WankYiJlgQ.jpg'
excerpt: 常用命令、报错
date: 2020-11-01 00:00:00
link:
---

<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ul><li><code>win</code>：下载解压安装</li><li><code>linux</code>：<ul><li><code>CentOS</code>安装文档—&gt;<a target="_blank" rel="noopener" href="https://nginx.org/en/linux_packages.html#RHEL-CentOS">nginx</a></li><li>找文件姿势<code>find / -name nginx</code></li><li>配置参考官方文档或<a target="_blank" rel="noopener" href="https://www.imooc.com/article/20079?block_id=tuijian_wz">config</a></li><li>也可以在<code>docker</code>安装，或者通过<code>bt.cn</code>安装</li></ul></li></ul><hr><h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><ul><li><code>win</code>：直接删掉即可</li><li><code>linux</code>：<ul><li><code>ps -ef |grep nginx</code>查看<code>nginx</code>是否在运行</li><li><code>/usr/sbin/nginx -s stop</code> or <code>nginx -s stop</code>如果运行，需要停止服务</li><li><code>netstat -lntp</code>查看<code>nginx</code>如果不在说明已经停止掉</li><li><code>whereis nginx</code>查看<code>nginx</code>相关文件并删除，如：<code>rm -rf /usr/sbin/nginx</code> or <code>rm -f /usr/sbin/nginx.tar.gz</code></li><li><code>yum remove nginx</code>使用<code>yum</code>清理<code>nginx</code></li></ul></li></ul><hr><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul><li><a href="/2020/12/13/nodejs/ssl/">ip的ssl配置</a></li><li>开机自启动<ul><li><code>whereis nginx</code>查看安装路径（如：<code>/usr/local/nginx/sbin/nginx</code> 或者 <code>/usr/bin/nginx</code>）</li><li>编辑文件<code>vi /etc/rc.local</code>，在最后一行添加上安装路径即可</li><li>更改文件权限：<code>cd /etc</code> &amp; <code>chmod 755 rc.local</code></li><li>重启系统试试：<code>shutdown -r now</code></li></ul></li></ul><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><ul><li><code>brew install nginx</code># 安装</li><li><code>brew info nginx</code>查看信息和配置文件所在路径</li><li><code>nginx</code>启动</li><li><code>nginx -s reload</code>重新加载配置</li><li><code>nginx -s reopen</code>重启</li><li><code>nginx -s stop</code>停止（此方式相当于先查出nginx进程id再使用kill命令强制杀掉进程。）</li><li><code>nginx -s quit</code>退出（此方式停止步骤是待nginx进程处理任务完毕进行停止。）</li><li><code>nginx -V</code>查看版本，以及配置文件地址</li><li><code>nginx -v</code>查看版本</li><li><code>nginx -c filename</code>指定配置文件</li><li><code>nginx -h</code>帮助</li><li><code>vi /usr/local/etc/nginx/nginx.conf</code>修改配置文件</li><li><code>nginx -t</code># 查看修改后的配置是否正确</li></ul><hr><h3 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h3><ul><li><code>nginx: [emerg] bind() to 0.0.0.0:80 failed (48: Address already in use)</code>端口占用报错</li><li><code>nginx: [alert] could not open error log file: open() “/usr/local/var/log/nginx/error.log” failed (13: Permission denied)</code>权限不够？<code>sudo</code>+命令</li></ul><hr>