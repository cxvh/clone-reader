---
title: npmjs包管理工具和nodejs版本管理
tags:
  - npm
categories:
  - node
cover: 'https://nodejs.org/static/images/logo.svg'
excerpt: nodejs特点、包管理工具、版本管理等
date: 2020-11-07 00:00:00
link:
---

<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><ul><li><strong>免费</strong>、<strong>开源</strong>、<strong>跨平台</strong></li><li>服务器上的 Javascript <strong>运行环境</strong></li><li>基于 Chrome V8 引擎，<code>事件驱动</code>、<code>非阻塞式I/O</code></li></ul><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight md"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget https://nodejs.org/dist/v14.16.1/node-v14.16.1-linux-x64.tar.xz    // 下载</span></span><br><span class="line"><span class="section"># tar xf  node-v10.9.0-linux-x64.tar.xz       // 解压</span></span><br><span class="line"><span class="section"># cd node-v10.9.0-linux-x64/                  // 进入解压目录</span></span><br><span class="line"><span class="section"># ./bin/node -v                               // 执行node命令 查看版本</span></span><br><span class="line"></span><br><span class="line">设置软连接（需要管理员权限）</span><br><span class="line">ln -s /home/cxvh/soft/node-v14.16.1-linux-x64/bin/   /usr/local/bin/ </span><br><span class="line">ln -s /home/cxvh/soft/node-v14.16.1-linux-x64/bin/   /usr/local/bin/</span><br></pre></td></tr></tbody></table></figure><h3 id="包管理工具"><a href="#包管理工具" class="headerlink" title="包管理工具"></a>包管理工具</h3><p>npm、cnpm</p><ul><li>安装命令：<code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></li><li>官方网址：<a target="_blank" rel="noopener" href="https://npm.taobao.org/">https://npm.taobao.org/</a></li></ul><p>Yarn</p><ul><li>官方网址：<a target="_blank" rel="noopener" href="https://yarnpkg.com/">https://yarnpkg.com/</a></li><li>常用命令：<code>yarn add/install/remove</code></li><li>下载地址：<a target="_blank" rel="noopener" href="https://github.com/yarnpkg/yarn/releases">https://github.com/yarnpkg/yarn/releases</a></li></ul><h3 id="nvm-（node-版本管理）"><a href="#nvm-（node-版本管理）" class="headerlink" title="nvm （node 版本管理）"></a>nvm （node 版本管理）</h3><ul><li><code>node</code>所有版本<a target="_blank" rel="noopener" href="https://nodejs.org/dist/">node version</a></li><li><a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm">nvm-github</a><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://cdn.jsdelivr.net/gh/nvm-sh/nvm@master/install.sh | bash <span class="comment"># 安装完重启下</span></span><br><span class="line">sudo /bin/bash -c <span class="string">"<span class="subst">$(curl -o- https://cdn.jsdelivr.net/gh/nvm-sh/nvm@master/install.sh)</span>"</span> <span class="comment"># 安装完重启下</span></span><br><span class="line">nvm --sersion <span class="comment"># 查看版本</span></span><br><span class="line">nvm list <span class="comment"># 查看安装的所有 node</span></span><br><span class="line">nvm ls-remote <span class="comment"># 查看服务器端所有可用 node 版本，如果版本不支持查看，请点击上面的链接查看所有版本</span></span><br><span class="line">nvm install v15.1.0 <span class="comment"># 安装 node</span></span><br><span class="line">nvm --<span class="built_in">help</span> <span class="comment"># 指令帮助</span></span><br><span class="line">nvm use v10.15.1 <span class="comment"># 切换 node</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="nrm-（npm-镜像源切换）"><a href="#nrm-（npm-镜像源切换）" class="headerlink" title="nrm （npm 镜像源切换）"></a>nrm （npm 镜像源切换）</h3><p><code>npm i -g nrm</code></p><h3 id="报错整理"><a href="#报错整理" class="headerlink" title="报错整理"></a>报错整理</h3><ul><li>执行命令出错：<code>node --inspect-brk ./node_modules/.bin/webpack webpack.config.js --inline --progress</code></li><li>原因：win不支持 shell 脚本</li><li>解决方法1：写完整路径 <code>npx node --inspect-brk ./node_modules/webpack/bin/webpack.js --inline --progress</code><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">VM51 loader.js:<span class="number">931</span> Uncaught E:\tmp\node_modules\.bin\webpack:<span class="number">2</span></span><br><span class="line">basedir=$(dirname <span class="string">"$(echo "</span>$<span class="number">0</span><span class="string">" | sed -e 's,\\,/,g')"</span>)</span><br><span class="line">SyntaxError: missing ) after argument <span class="built_in">list</span></span><br><span class="line">    at wrapSafe (internal/modules/cjs/loader.js:<span class="number">931</span>:<span class="number">16</span>)</span><br><span class="line">    at Module._compile (internal/modules/cjs/loader.js:<span class="number">979</span>:<span class="number">27</span>)</span><br><span class="line">    at Object.Module._extensions..js (internal/modules/cjs/loader.js:<span class="number">1035</span>:<span class="number">10</span>)</span><br><span class="line">    at Module.load (internal/modules/cjs/loader.js:<span class="number">879</span>:<span class="number">32</span>)</span><br><span class="line">    at Function.Module._load (internal/modules/cjs/loader.js:<span class="number">724</span>:<span class="number">14</span>)</span><br><span class="line">    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:<span class="number">60</span>:<span class="number">12</span>)</span><br><span class="line">    at internal/main/run_main_module.js:<span class="number">17</span>:<span class="number">47</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="node原生支持import"><a href="#node原生支持import" class="headerlink" title="node原生支持import"></a>node原生支持import</h3><ul><li>文件后缀改为<code>.mjs</code>并且<code>node:8</code>版本一会才支持</li><li><code>import</code>时写上完整文件名称，如：<code>import '../utils.ejs'</code></li><li><code>node</code>版本<code>14</code>执行命令：<code>node bin/index.mjs</code></li><li><code>node</code>版本低于<code>14</code>执行命令：<code>node --experimental-modules bin/index.mjs</code>，并且会出来警告说是测试功能</li></ul>